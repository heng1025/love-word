// Generated by ReScript, PLEASE EDIT WITH CARE


var endpoint = "https://translate.googleapis.com/translate_a/single?client=gtx&sl=en&tl=zh-Hans&dt=t";

function translate(msg) {
  return fetch("" + endpoint + "&q=" + msg + "").then(function (ret) {
                return ret.json();
              }).then(function (result) {
              var tmp;
              if (Array.isArray(result)) {
                var fl = result[0];
                if (Array.isArray(fl)) {
                  var sl = fl[0];
                  tmp = Array.isArray(sl) ? sl[0] : undefined;
                } else {
                  tmp = undefined;
                }
              } else {
                tmp = undefined;
              }
              return Promise.resolve(tmp);
            });
}

chrome.runtime.onMessage.addListener(function (message, param, sendResponse) {
      translate(message).then(function (res) {
            return sendResponse(res);
          });
      return true;
    });

export {
  endpoint ,
  translate ,
}
/*  Not a pure module */
