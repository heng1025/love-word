// Generated by ReScript, PLEASE EDIT WITH CARE

import * as RecordHook from "../hooks/RecordHook.js";
import * as Caml_option from "rescript/lib/es6/caml_option.js";
import * as RecordAction from "./RecordAction.js";
import * as TranslateResult from "../components/TranslateResult.js";
import * as JsxRuntime from "react/jsx-runtime";

function Favorite(props) {
  var match = RecordHook.useRecord("favorite");
  var onCheck = match.onCheck;
  var records = match.records;
  var recordEles = records.map(function (record) {
        var date = record.date;
        var checked = record.checked;
        var sync = record.sync;
        var boarderClass = checked ? "border-primary" : "";
        var val = record.translation;
        var tmp;
        if (val !== undefined) {
          var val$1 = Caml_option.valFromOption(val);
          tmp = (val$1 == null) ? "No translation" : JsxRuntime.jsx(TranslateResult.StatelessTPanel.make, {
                  data: val$1
                });
        } else {
          tmp = null;
        }
        return JsxRuntime.jsx("div", {
                    children: JsxRuntime.jsxs("div", {
                          children: [
                            JsxRuntime.jsxs("div", {
                                  children: [
                                    JsxRuntime.jsxs("div", {
                                          children: [
                                            JsxRuntime.jsxs("div", {
                                                  children: [
                                                    JsxRuntime.jsx("span", {
                                                          children: new Date(date).toLocaleDateString()
                                                        }),
                                                    JsxRuntime.jsx("span", {
                                                          children: sync ? "sync" : "",
                                                          className: "ml-2"
                                                        })
                                                  ]
                                                }),
                                            JsxRuntime.jsx("a", {
                                                  children: JsxRuntime.jsx("img", {
                                                        className: "w-5",
                                                        src: record.favIconUrl
                                                      }),
                                                  title: record.title,
                                                  href: record.url,
                                                  target: "_blank"
                                                })
                                          ],
                                          className: "flex justify-between"
                                        }),
                                    JsxRuntime.jsx("p", {
                                          children: record.text,
                                          className: "font-bold text-xl line-clamp-1"
                                        })
                                  ],
                                  className: "border-b pb-1"
                                }),
                            tmp
                          ],
                          className: "card-body"
                        }),
                    className: "card card-compact w-72 card-bordered cursor-pointer bg-base-100 shadow-xl " + boarderClass,
                    onClick: (function (param) {
                        onCheck(record);
                      })
                  }, date.toString());
      });
  return JsxRuntime.jsxs(JsxRuntime.Fragment, {
              children: [
                JsxRuntime.jsx(RecordAction.make, {
                      records: records.filter(function (v) {
                            return v.checked;
                          }),
                      onDelete: match.onDelete,
                      onSync: match.onSync,
                      onClear: match.onClear,
                      onSearch: match.onSearch,
                      onCancel: match.onCancel
                    }),
                JsxRuntime.jsx("div", {
                      children: recordEles,
                      className: "flex flex-wrap gap-4 p-5"
                    })
              ]
            });
}

var make = Favorite;

export {
  make ,
}
/* RecordHook Not a pure module */
